<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../static/css/style.css">
    <title>CountVibe</title>
  </head>
  
  <body>
    <div class="infoHeader">
      <h>Food diary</h>
      <h1>{{ .Date}}</h1>
    </div>

    <form class="choiceDate" method="POST">
      <p>Date: <input type="date" name="calendar" value="2022-02-01">
      <input type="submit" value="submit" min="2020-12-01" max="2030-12-01"></p>
    </form>

    <div class="totalSum">
      <h>Total Sum:</h>
      <div>
        <div>
          <h>Fats</h> <div>{{ .Total.Fats}}</div>
        </div>
        <div>
          <h>Carbs</h> <div>{{ .Total.Carbohydrates}}</div>
        </div>
        <div>
          <h>Prots</h> <div>{{ .Total.Proteins}}</div>
        </div>
        <div>
          <h>Cals</h> <div>{{ .Total.Calories}}</div>
        </div>
      </div>
    </div>

    
    <div class="mealTable">
      <div class="mealTable-info">
        <h>Breakfast</h>
        <div>
          <div>{{ .Breakfast.CalcMeal.Fats}}</div>
          <div>{{ .Breakfast.CalcMeal.Carbohydrates}}</div>
          <div>{{ .Breakfast.CalcMeal.Proteins}}</div>
          <div>{{ .Breakfast.CalcMeal.Calories}}</div>
        </div>
      </div>


      <div class="mealTable-item">
        {{range .Breakfast.Portions}}
          {{block "portion" .}}{{end}}
        {{end}}
      </div>

      {{if .IsLogin}}
        <form class="mealTable-button" method="POST">
            <button name="button" value="addItem">Add Item</button>
        </form>

        <div class="mealTable-search">
          <form method="POST">     
            <label>Search</label><input name="search" type="text" value="" />
            <input type="submit" value="search" />
          </form>
          
            {{range .Search}}
              {{block "product" .}}{{end}}
            {{end}}
        </div>
      {{end}}
    </div>


    <div class="mealTable">
      <div class="mealTable-info">
        <h>Lunch</h>
        <div>
          <div>{{ .Lunch.CalcMeal.Fats}}</div>
          <div>{{ .Lunch.CalcMeal.Carbohydrates}}</div>
          <div>{{ .Lunch.CalcMeal.Proteins}}</div>
          <div>{{ .Lunch.CalcMeal.Calories}}</div>
        </div>
      </div>


      <div class="mealTable-item">
        {{range .Lunch.Portions}}
          {{block "portion" .}}{{end}}
        {{end}}
      </div>

      {{if .IsLogin}}
        <form class="mealTable-button" method="POST">
            <button name="button" value="addItem">Add Item</button>
        </form>
      {{end}}
    </div>


    <div class="mealTable">
      <div class="mealTable-info">
        <h>Dinner</h>
        <div>
          <div>{{ .Dinner.CalcMeal.Fats}}</div>
          <div>{{ .Dinner.CalcMeal.Carbohydrates}}</div>
          <div>{{ .Dinner.CalcMeal.Proteins}}</div>
          <div>{{ .Dinner.CalcMeal.Calories}}</div>
        </div>
      </div>


      <div class="mealTable-item">
        {{range .Dinner.Portions}}
          {{block "portion" .}}{{end}}
        {{end}}
      </div>

      {{if .IsLogin}}
        <form class="mealTable-button" method="POST">
            <button name="button" value="addItem">Add Item</button>
        </form>
      {{end}}
    </div>

    <div class="mealTable">
      <div class="mealTable-info">
        <h>Snacks</h>
        <div>
          <div>{{ .Snacks.CalcMeal.Fats}}</div>
          <div>{{ .Snacks.CalcMeal.Carbohydrates}}</div>
          <div>{{ .Snacks.CalcMeal.Proteins}}</div>
          <div>{{ .Snacks.CalcMeal.Calories}}</div>
        </div>
      </div>


      <div class="mealTable-item">
        {{range .Snacks.Portions}}
          {{block "portion" .}}{{end}}
        {{end}}
      </div>

      {{if .IsLogin}}
        <form class="mealTable-button" method="POST">
            <button name="button" value="addItem">Add Item</button>
        </form>
      {{end}}
    </div>

  </body>
</html>